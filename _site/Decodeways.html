<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Decodeways</title>
    <meta name="generator"
    content="HTML Tidy for HTML5 (experimental) for Windows https://github.com/w3c/tidy-html5/tree/c63cc39" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Leetcode :" />
	<link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="stylesheets/rouge.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="stylesheets/syntax.css" />
  </head>
  <body>
  <div class="home-menu">
    <div class="home-icon-con">
      <a class="home-menu-icon" href="/">MyLeetcode</a>
    </div>
  </div>
  <div id="header_wrap" class="outer">
    <header class="inner">
      <a id="forkme_banner" href="https://github.com/infear-on-the-way/leetcode/tree/gh-pages">View on GitHub</a>
      <h1 id="project_title">Decodeways</h1>
    </header>
  </div><div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>A message containing letters from A-Z is being encoded to numbers using the following mapping: </p>
<p>'A' -&gt; 1 'B' -&gt; 2 ... 'Z' -&gt; 26</p>
<p>Given an encoded message containing digits, determine the total number of ways to decode it. For example, Given encoded message "12", it could be decoded as "AB" (1 2) or "L" (12). The number of ways decoding "12" is 2.</p>
<p>Problem link: <a href="https://oj.leetcode.com/problems/decode-ways/">https://oj.leetcode.com/problems/decode-ways/</a></p>

<p>分析:</p>
<p>典型的动态规划题。对于输入的字符串s，用A[k]表示从s的第k个字符开始的子串的反解码个数，于是A[0]即为所求。</p>
<p>对于A[k],可以分为两种情况:</p>
<p>(1) s[k]可以独立反解码，即处于1到9之间，那么A[k] += A[k-1]<br />
(2) s[k:k+2)可以反解码，即处于10到26之间，那么A[k] += A[k-2]</p>
<p>最后对于base的情况, 有A[s.length]=1, A[s.length-1]根据最后一个字符的数值情况为1为0（或者定义A[s.length+1]=0, 将A[s.length-1]泛化成一般情况）。</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="c"># @param s, a string</span>
    <span class="c"># @return an integer</span>
    <span class="k">def</span> <span class="nf">numDecodings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">s</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span> <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">9</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="n">k</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span>
        <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">y</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="mi">9</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">k</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="mi">9</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">+=</span> <span class="n">y</span>
            <span class="k">if</span> <span class="mi">10</span> <span class="o">&lt;=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">k</span><span class="p">:</span><span class="n">k</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="mi">26</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">+=</span> <span class="n">x</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">y</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">tmp</span>
            <span class="n">k</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">y</span></code></pre></div>


</div>
</body>
</html>
